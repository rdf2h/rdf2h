!function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var r={};t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t){e.exports=$rdf},function(e,t,r){"use strict";function n(e,t){console.info("RDF2h created"),this.rendererGraph=e,this.tbox=t||e,this.env={}}var a=r(0),i=r(2),s=r(5),o=r(6);new Array;!function(){var e=(o.rdf2h,s.Context.prototype.lookup);s.Context.prototype.lookup=function(t){if(this.view instanceof n.Renderee){var r=function(e){function t(e,r){var i=function(t){return"."===t?e:t.endsWith("<-")?e.in(n.resolveCurie(t.substring(0,t.length-2))):t.startsWith("^")?e.in(n.resolveCurie(t.substring(1))):e.out(n.resolveCurie(t))}(r[0]);if(1===r.length){var s=i.nodes;if(0===s.length){if(e.nodes[0].language&&n.resolveCurie(r[0]).equals(a.sym("http://purl.org/dc/terms/language")))return[a.literal(e.nodes[0].language)];if(e.nodes[0].datatype&&n.resolveCurie(r[0]).equals(n.resolveCurie("rdf:type")))return[e.nodes[0].datatype]}return s}return t(i,r.slice(1))}var r=function(e){function t(){i.length>0&&(r.push(i),i="")}for(var r=[],n=!1,a=!1,i="",s=0;s<e.length;s++){var o=e[s];a&&("-"!==o&&(t(),n=!0),i+="<",a=!1),"<"!==o?n&&">"==o?(i+=o,t(),n=!1):n||"/"!=o?i+=o:t():a=!0}return t(),r}(e);return t(o,r)},s=this.view.rdf2h,o=this.view.graphNode,l=o.graph,u=this.view.context;if(t.startsWith("@prefix ")){var h=t.split(" "),p=h[1],c=h[2],f=p.substring(0,p.length-1),d=c.substring(1,c.length-1);return n.prefixMap[f]=d,""}if(t.startsWith(":render ")){var h=t.split(" "),g=h[1],v=h[2];v&&(v=n.resolveCurie(v)),v||(v=u);var w=r(g);return w.length>1&&console.warn("Argument of render evaluates to more than one node!"),w.length>0?s.render(l,w[0],v):""}if(t.startsWith(":continue")){var h=t.split(" "),v=h[1];return v&&(v=n.resolveCurie(v)),v||(v=u),o.nodes.length>1&&console.warn(":continue invoked in context with more than one node, this shouldn't be possible!"),s.render(l,o.nodes[0],v)}if(t.startsWith("+"))return t=t.substring(1),r(t).length>0;var m=r(t);return 1===m.length?new n.Renderee(s,i(m[0],l),u):m.map(function(e){return new n.Renderee(s,i(e,l),u)})}return e.call(this,t)}}(),n.Renderee=function(e,t,r){if(!t.nodes)throw new Error("second argument must be a GraphNode");if(1!==t.nodes.length)throw new Error("Renderee must be a single node");this.rdf2h=e,this.graphNode=t,this.context=r},n.Renderee.prototype.toString=function(){return this.graphNode.value?this.graphNode.value:this.graphNode.toString()},n.prototype.getRenderer=function(e){var t=this,r=(o.rdf2h,this.tbox),n=function(e){return e.out(o.rdf("type")).nodes.sort(function(e,t){return e.equals(t)?0:e.equals(o.rdfs("Resource"))?1:t.equals(o.rdfs("Resource"))?-1:0===r.match(e,o.rdfs("subClassOf"),t).length?0===r.match(t,o.rdfs("subClassOf"),e).length?e.value.localeCompare(t.value):1:-1}).concat([o.rdfs("Resource")])}(e.graphNode).map(function(e){return i(e,t.rendererGraph)}),l=function(e,t){function r(e){return e.find(function(e){return t.equals(e.out(o.rdf2h("context")).node)})}return[!1].concat(e).reduce(function(e,t){return e||r(t.in(o.rdf2h("type")).split())})}(n,e.context);if(!l)throw Error("No renderer found with context: "+e.context+" for any of the types "+n.map(function(e){return"<"+e.value+">"}).join()+". The resource <"+e.graphNode.value+"> could thus not be rendered.");var u=l.out(o.rdf2h("mustache"));if(u.nodes.length>0)return function(e){return function(t){return s.render(e,t)}}(u.value);var h=l.out(o.rdf2h("javaScript"));return function(e){try{var t=function(t,r){return e.rdf2h.render(t.graph,t.node,r||e.context)},r="",n=function(e){r+=e},s=new Function("n","context","$rdf","render","print","GraphNode","env",h.value)(e.graphNode,e.context,a,t,n,i,e.rdf2h.env);return s?r+s:r}catch(e){e.message=e.message+" in "+h.value;var o=e.stack.split("\n"),l=o.findIndex(function(e){return e.indexOf("RDF2h.render")>0});throw e.stack=o.splice(0,l-1).join("\n"),e}}},n.prototype.render=function(e,t,r){t.termType||(t=a.sym(t)),r||(r=o.rdf2h("Default"));var s=new n.Renderee(this,i(t,e),r);return this.getRenderer(s)(s)},n.prefixMap={},n.prefixMap.rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#",n.prefixMap.rdfs="http://www.w3.org/2000/01/rdf-schema#",n.prefixMap.r2h="http://rdf2h.github.io/2015/rdf2h#",n.prefixMap.schema="http://schema.org/",n.prefixMap.rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#",n.prefixMap.dct="http://purl.org/dc/terms/",n.resolveCurie=function(e){if(e.startsWith("<")&&e.endsWith(">"))return a.sym(e.substring(1,e.length-1));console.debug("resolving "+e);var t=e.split(":"),r=t[0],i=t[1];return n.prefixMap[r]?a.sym(n.prefixMap[r]+i):a.sym(e)},"undefined"!=typeof window&&(window.RDF2h=n),e.exports=n},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(){return new(Function.prototype.bind.apply(a.Impl,[null].concat(Array.prototype.slice.call(arguments))))}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(0),o=r(3),l=r(4),u=function(e){return e||window.Headers}(o.Headers);a.Impl=function(){function e(t,r,a){n(this,e),this._graph=r,Array.isArray(t)?this.nodes=t:this.nodes=[t],this.sources=a}return i(e,[{key:"fetch",value:function(){var e=this;if("NamedNode"!==this.termType||this.sources&&this.sources.indexOf(this.value.split("#")[0])>-1)return Promise.resolve(this);var t=this.value.split("#")[0];return a.rdfFetch(t).then(function(e){return e.graph()}).then(function(r){return a(e.node,r,[t])})}},{key:"each",value:function(e){var t=this,r=this.nodes.map(function(r){return e(a([r],t.graph,t.sources))});return Promise.all(r)}},{key:"fetchEach",value:function(e){var t=this,r=this.nodes.map(function(r){return a([r],t.graph,t.sources).fetch().then(e)});return Promise.all(r)}},{key:"split",value:function(){var e=this;return this.nodes.map(function(t){return a([t],e.graph,e.sources)})}},{key:"out",value:function(e){return a(this.graph.each(this.node,e),this.graph,this.sources)}},{key:"in",value:function(e){return a(this.graph.statementsMatching(void 0,e,this.node).map(function(e){return e.subject}),this.graph,this.sources)}},{key:"graph",get:function(){if(!this._graph)throw Error("Operation not possible as no Graph is available, try fetching first");return this._graph}},{key:"node",get:function(){if(1!==this.nodes.length)throw Error("Operation not possible as this GraphNode is underdetermined");return this.nodes[0]}},{key:"termType",get:function(){return this.node.termType}},{key:"value",get:function(){return this.node.value}}]),e}(),a.rdfFetch=function(e,t,r){var n=this;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.headers||(t.headers=new u),t.headers.get("Accept")||t.headers.set("Accept","text/turtle;q=1, application/n-triples;q=.9, application/rdf+xml;q=.8, application/ld+json;q=.7, */*;q=.1"),o(e,t).then(function(t){return t.ok?(t.graph=function(){return new Promise(function(r,n){var a=s.graph(),i=t.headers.get("Content-type").split(";")[0];return t.text().then(function(t){if("text/html"===i&&"undefined"!=typeof DOMParser){console.log("Working around rdflib problem parsing RDFa in browser");try{l.parseRDFaDOM(s.Util.parseXML(t,{contentType:i}),a,e)}catch(e){return void n(e)}r(a)}else s.parse(t,a,e,i,function(e,t){e?n(e):r(t)})})})},t):t})}(e,t).then(function(a){return a.status<300?a:r&&401===a.status?(console.log("Got 401 response, attempting to login"),r().then(function(){return n.rdfFetch(e,t)})):a})},e.exports=a},function(e,t){e.exports=fetch},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),s=i.BlankNode,o=i.Literal,l=i.DataFactory,u=i.NamedNode,h=i.uri,p=i.Util;if(void 0===c)var c={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12};var f=function(){function e(t,r){n(this,e),this.options=r||{},this.kb=t,this.target=r.target||{graph:{subjects:{},prefixes:{},terms:{}}},this.blankNodes=[],this.htmlOptions={selfClosing:"br img input area base basefont col colgroup source wbr isindex link meta param hr"},this.theOne="_:"+(new Date).getTime(),this.language=null,this.vocabulary=null,this.blankCounter=0,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}],this.inXHTMLMode=!1,this.absURIRE=/[\w\_\-]+:\S+/,this.finishedHandlers=[],this.init()}return a(e,[{key:"addTriple",value:function(e,t,r,n){var a,i,s,o;a=void 0===t?l.namedNode(this.options.base):this.toRDFNodeObject(t),s=this.toRDFNodeObject(r),i=this.toRDFNodeObject(n),o=l.namedNode(this.options.base),this.kb.add(a,s,i,o)}},{key:"ancestorPath",value:function(e){for(var t="";e&&e.nodeType!==c.DOCUMENT_NODE;)t="/"+e.localName+t,e=e.parentNode;return t}},{key:"copyMappings",value:function(e){var t={};for(var r in e)t[r]=e[r];return t}},{key:"copyProperties",value:function(){}},{key:"deriveDateTimeType",value:function(t){for(var r=0;r<e.dateTimeTypes.length;r++){var n=e.dateTimeTypes[r].pattern.exec(t);if(n&&n[0].length===t.length)return e.dateTimeTypes[r].type}return null}},{key:"init",value:function(){}},{key:"newBlankNode",value:function(){return"_:"+ ++this.blankCounter}},{key:"newSubjectOrigin",value:function(e,t){}},{key:"parseCURIE",value:function(t,r,n){var a,i=t.indexOf(":");if(i>=0){var s=t.substring(0,i);if(""===s)return a=r[""],a?a+t.substring(i+1):null;if("_"===s)return"_:"+t.substring(i+1);if(e.NCNAME.test(s)&&(a=r[s]))return a+t.substring(i+1)}return null}},{key:"parseCURIEOrURI",value:function(e,t,r){var n=this.parseCURIE(e,t,r);return n||this.resolveAndNormalize(r,e)}},{key:"parsePredicate",value:function(e,t,r,n,a,i){if(""===e)return null;var s=this.parseTermOrCURIEOrAbsURI(e,t,i?null:r,n,a);return s&&0===s.indexOf("_:")?null:s}},{key:"parsePrefixMappings",value:function(e,t){for(var r=this.tokenize(e),n=null,a=0;a<r.length;a++)":"===r[a][r[a].length-1]?n=r[a].substring(0,r[a].length-1):n&&(t[n]=this.options.base?h.join(r[a],this.options.base):r[a],n=null)}},{key:"parseSafeCURIEOrCURIEOrURI",value:function(e,t,r){return e=this.trim(e),"["===e.charAt(0)&&"]"===e.charAt(e.length-1)?(e=e.substring(1,e.length-1),e=e.trim(e),0===e.length?null:"_:"===e?this.theOne:this.parseCURIE(e,t,r)):this.parseCURIEOrURI(e,t,r)}},{key:"parseTermOrCURIEOrAbsURI",value:function(e,t,r,n,a){e=this.trim(e);var i=this.parseCURIE(e,n,a);if(i)return i;if(r){if(t&&!this.absURIRE.exec(e))return t+e;var s=r[e];if(s)return s;if(s=r[e.toLowerCase()])return s}return this.absURIRE.exec(e)?this.resolveAndNormalize(a,e):null}},{key:"parseTermOrCURIEOrURI",value:function(e,t,r,n,a){e=this.trim(e);var i=this.parseCURIE(e,n,a);if(i)return i;var s=r[e];return s||((s=r[e.toLowerCase()])?s:t&&!this.absURIRE.exec(e)?t+e:this.resolveAndNormalize(a,e))}},{key:"parseURI",value:function(e){return e}},{key:"process",value:function(t,r){var n;t.nodeType===c.DOCUMENT_NODE?(n=t.baseURI,t=t.documentElement,this.setContext(t)):t.parentNode.nodeType===c.DOCUMENT_NODE&&this.setContext(t);var a=[],i=function(e){if(!e&&r&&r.baseURI)return r.baseURI;var t=e.indexOf("#");return t>=0&&(e=e.substring(0,t)),r&&r.baseURIMap&&(e=r.baseURIMap(e)),e};for(a.push({current:t,context:this.push(null,i(t.baseURI))});a.length>0;){var s=a.shift();if(s.parent){if(s.context.parent&&s.context.parent.listMapping===s.listMapping)continue;for(var o in s.listMapping){var l=s.listMapping[o];if(0!==l.length){for(var u=[],p=0;p<l.length;p++)u.push(this.newBlankNode());for(var f=0;f<u.length;f++)this.addTriple(s.parent,u[f],"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",l[f]),this.addTriple(s.parent,u[f],"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",{type:e.objectURI,value:f+1<u.length?u[f+1]:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});this.addTriple(s.parent,s.subject,o,{type:e.objectURI,value:u[0]})}else this.addTriple(s.parent,s.subject,o,{type:e.objectURI,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"})}}else{var d=s.current,g=s.context,v=!1,w=null,m=null,b=null,y=g.prefixes,R=!1,x=[],N=g.listMapping,U=!g.parent,I=g.language,T=g.vocabulary;n=this.parseURI(i(d.baseURI)),d.item=null;var M=d.getAttributeNode("vocab");if(M){var O=this.trim(M.value);if(O.length>0){T=O;var E=n.spec;this.addTriple(d,E,"http://www.w3.org/ns/rdfa#usesVocabulary",{type:e.objectURI,value:T})}else T=this.vocabulary}for(var k=0;k<d.attributes.length;k++){var C=d.attributes[k];if("x"===C.nodeName.charAt(0)&&0===C.nodeName.indexOf("xmlns:")){R||(y=this.copyMappings(y),R=!0);var L=C.nodeName.substring(6),j=this.trim(C.value);y[L]=this.options.base?h.join(j,this.options.base):j}}var A=d.getAttributeNode("prefix");A&&(R||(y=this.copyMappings(y),R=!0),this.parsePrefixMappings(A.value,y));for(var D=null,H=0;!D&&H<this.langAttributes.length;H++)D=d.getAttributeNodeNS(this.langAttributes[H].namespaceURI,this.langAttributes[H].localName);if(D){var S=this.trim(D.value);I=S.length>0?S:null}var _,X,P=d.getAttributeNode("rel"),F=d.getAttributeNode("rev"),z=d.getAttributeNode("typeof"),W=d.getAttributeNode("property"),q=d.getAttributeNode("datatype"),G=this.inHTMLMode?d.getAttributeNode("datetime"):null,B=d.getAttributeNode("content"),V=d.getAttributeNode("about"),Y=d.getAttributeNode("src"),$=d.getAttributeNode("resource"),Z=d.getAttributeNode("href"),J=d.getAttributeNode("inlist"),K=[];if(P){X=this.tokenize(P.value);for(var Q=0;Q<X.length;Q++)(_=this.parsePredicate(X[Q],T,g.terms,y,n,this.inHTMLMode&&null!==W))&&K.push(_)}var ee=[];if(F){X=this.tokenize(F.value);for(var te=0;te<X.length;te++)(_=this.parsePredicate(X[te],T,g.terms,y,n,this.inHTMLMode&&W))&&ee.push(_)}if(this.inHTMLMode&&(P||F)&&W&&(0===K.length&&(P=null),0===ee.length&&(F=null)),P||F?(V&&(w=this.parseSafeCURIEOrCURIEOrURI(V.value,y,n)),z&&(b=w),w||(d.parentNode.nodeType===c.DOCUMENT_NODE?w=i(d.baseURI):g.parentObject&&(w=i(d.parentNode.baseURI)===g.parentObject?i(d.baseURI):g.parentObject)),$&&(m=this.parseSafeCURIEOrCURIEOrURI($.value,y,n)),m||(Z?m=this.resolveAndNormalize(n,encodeURI(Z.value)):Y?m=this.resolveAndNormalize(n,encodeURI(Y.value)):!z||V||this.inXHTMLMode&&("head"===d.localName||"body"===d.localName)||(m=this.newBlankNode())),!z||V||!this.inXHTMLMode||"head"!==d.localName&&"body"!==d.localName?z&&!V&&(b=m):b=w):!W||B||q?(V&&(w=this.parseSafeCURIEOrCURIEOrURI(V.value,y,n)),!w&&$&&(w=this.parseSafeCURIEOrCURIEOrURI($.value,y,n)),!w&&Z&&(w=this.resolveAndNormalize(n,encodeURI(Z.value))),!w&&Y&&(w=this.resolveAndNormalize(n,encodeURI(Y.value))),w||(d.parentNode.nodeType===c.DOCUMENT_NODE?w=i(d.baseURI):!this.inXHTMLMode&&!this.inHTMLMode||"head"!==d.localName&&"body"!==d.localName?z?w=this.newBlankNode():g.parentObject&&(w=i(d.parentNode.baseURI)===g.parentObject?i(d.baseURI):g.parentObject,W||(v=!0)):w=i(d.parentNode.baseURI)===g.parentObject?i(d.baseURI):g.parentObject),z&&(b=w)):(V&&(w=this.parseSafeCURIEOrCURIEOrURI(V.value,y,n),z&&(b=w)),w||d.parentNode.nodeType!==c.DOCUMENT_NODE?!w&&g.parentObject&&(w=i(d.parentNode.baseURI)===g.parentObject?i(d.baseURI):g.parentObject):(w=i(d.baseURI),z&&(b=w)),z&&!b&&($&&(b=this.parseSafeCURIEOrCURIEOrURI($.value,y,n)),!b&&Z&&(b=this.resolveAndNormalize(n,encodeURI(Z.value))),!b&&Y&&(b=this.resolveAndNormalize(n,encodeURI(Y.value))),b||!this.inXHTMLMode&&!this.inHTMLMode||"head"!==d.localName&&"body"!==d.localName||(b=w),b||(b=this.newBlankNode()),m=b)),w&&(V||$||b)){var re=w;z&&!V&&!$&&m&&(re=m),this.newSubjectOrigin(d,re)}if(b){X=this.tokenize(z.value);for(var ne=0;ne<X.length;ne++){var ae=this.parseTermOrCURIEOrAbsURI(X[ne],T,g.terms,y,n);ae&&this.addTriple(d,b,e.typeURI,{type:e.objectURI,value:ae})}}if(w&&w!==g.parentObject&&(N={},U=!0),m){if(P&&J)for(var ie=0;ie<K.length;ie++){var se=N[K[ie]];se||(se=[],N[K[ie]]=se),se.push({type:e.objectURI,value:m})}else if(P)for(var oe=0;oe<K.length;oe++)this.addTriple(d,w,K[oe],{type:e.objectURI,value:m});if(F)for(var le=0;le<ee.length;le++)this.addTriple(d,m,ee[le],{type:e.objectURI,value:w})}else{if(w&&!m&&(P||F)&&(m=this.newBlankNode()),P&&J)for(var ue=0;ue<K.length;ue++){var he=N[K[ue]];he||(he=[],N[_]=he),x.push({predicate:K[ue],list:he})}else if(P)for(var pe=0;pe<K.length;pe++)x.push({predicate:K[pe],forward:!0});if(F)for(var ce=0;ce<ee.length;ce++)x.push({predicate:ee[ce],forward:!1})}if(W){var fe=null,de=null;q?(fe=""===q.value?e.PlainLiteralURI:this.parseTermOrCURIEOrAbsURI(q.value,T,g.terms,y,n),de=G&&!B?G.value:fe===e.XMLLiteralURI||fe===e.HTMLLiteralURI?null:B?B.value:d.textContent):B?(fe=e.PlainLiteralURI,de=B.value):G?(de=G.value,(fe=e.deriveDateTimeType(de))||(fe=e.PlainLiteralURI)):P||F||($&&(de=this.parseSafeCURIEOrCURIEOrURI($.value,y,n)),!de&&Z?de=this.resolveAndNormalize(n,encodeURI(Z.value)):!de&&Y&&(de=this.resolveAndNormalize(n,encodeURI(Y.value))),de&&(fe=e.objectURI)),fe||(z&&!V?(fe=e.objectURI,de=b):(de=d.textContent,this.inHTMLMode&&"time"===d.localName&&(fe=e.deriveDateTimeType(de)),fe||(fe=e.PlainLiteralURI))),X=this.tokenize(W.value);for(var ge=0;ge<X.length;ge++){var ve=this.parsePredicate(X[ge],T,g.terms,y,n);if(ve)if(J){var we=N[ve];we||(we=[],N[ve]=we),we.push(fe===e.XMLLiteralURI||fe===e.HTMLLiteralURI?{type:fe,value:d.childNodes}:{type:fe||e.PlainLiteralURI,value:de,language:I})}else fe===e.XMLLiteralURI||fe===e.HTMLLiteralURI?this.addTriple(d,w,ve,{type:fe,value:d.childNodes}):this.addTriple(d,w,ve,{type:fe||e.PlainLiteralURI,value:de,language:I})}}if(w&&!v)for(var me=0;me<g.incomplete.length;me++)g.incomplete[me].list?g.incomplete[me].list.push({type:e.objectURI,value:w}):g.incomplete[me].forward?this.addTriple(d,g.subject,g.incomplete[me].predicate,{type:e.objectURI,value:w}):this.addTriple(d,w,g.incomplete[me].predicate,{type:e.objectURI,value:g.subject});var be=null,ye=w;v?(be=this.push(g,g.subject),be.parentObject=i(d.parentNode.baseURI)===g.parentObject?i(d.baseURI):g.parentObject,be.incomplete=g.incomplete,be.language=I,be.prefixes=y,be.vocabulary=T):(be=this.push(g,w),be.parentObject=m||(w||g.subject),be.prefixes=y,be.incomplete=x,m&&(ye=m,N={},U=!0),be.listMapping=N,be.language=I,be.vocabulary=T),U&&a.unshift({parent:d,context:g,subject:ye,listMapping:N});for(var Re=d.lastChild;Re;Re=Re.previousSibling)Re.nodeType===c.ELEMENT_NODE&&a.unshift({current:Re,context:be})}}this.inHTMLMode&&this.copyProperties();for(var xe=0;xe<this.finishedHandlers.length;xe++)this.finishedHandlers[xe](t)}},{key:"push",value:function(e,t){return{parent:e,subject:t||(e?e.subject:null),parentObject:null,incomplete:[],listMapping:e?e.listMapping:{},language:e?e.language:this.language,prefixes:e?e.prefixes:this.target.graph.prefixes,terms:e?e.terms:this.target.graph.terms,vocabulary:e?e.vocabulary:this.vocabulary}}},{key:"resolveAndNormalize",value:function(e,t){return h.join(t,e)}},{key:"setContext",value:function(e){"html"===e.localName&&"XHTML+RDFa 1.1"===e.getAttribute("version")?this.setXHTMLContext():"html"===e.localName||"http://www.w3.org/1999/xhtml"===e.namespaceURI?"undefined"!=typeof document&&document.doctype?"-//W3C//DTD XHTML+RDFa 1.0//EN"===document.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd"===document.doctype.systemId?(console.log("WARNING: RDF 1.0 is not supported.  Defaulting to HTML5 mode."),this.setHTMLContext()):"-//W3C//DTD XHTML+RDFa 1.1//EN"===document.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-2.dtd"===document.doctype.systemId?this.setXHTMLContext():this.setHTMLContext():this.setHTMLContext():this.setXMLContext()}},{key:"setHTMLContext",value:function(){this.setInitialContext(),this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.inXHTMLMode=!1,this.inHTMLMode=!0}},{key:"setInitialContext",value:function(){this.vocabulary=null,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}]}},{key:"setXHTMLContext",value:function(){this.setInitialContext(),this.inXHTMLMode=!0,this.inHTMLMode=!1,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.target.graph.terms.alternate="http://www.w3.org/1999/xhtml/vocab#alternate",this.target.graph.terms.appendix="http://www.w3.org/1999/xhtml/vocab#appendix",this.target.graph.terms.bookmark="http://www.w3.org/1999/xhtml/vocab#bookmark",this.target.graph.terms.cite="http://www.w3.org/1999/xhtml/vocab#cite",this.target.graph.terms.chapter="http://www.w3.org/1999/xhtml/vocab#chapter",this.target.graph.terms.contents="http://www.w3.org/1999/xhtml/vocab#contents",this.target.graph.terms.copyright="http://www.w3.org/1999/xhtml/vocab#copyright",this.target.graph.terms.first="http://www.w3.org/1999/xhtml/vocab#first",this.target.graph.terms.glossary="http://www.w3.org/1999/xhtml/vocab#glossary",this.target.graph.terms.help="http://www.w3.org/1999/xhtml/vocab#help",this.target.graph.terms.icon="http://www.w3.org/1999/xhtml/vocab#icon",this.target.graph.terms.index="http://www.w3.org/1999/xhtml/vocab#index",this.target.graph.terms.last="http://www.w3.org/1999/xhtml/vocab#last",this.target.graph.terms.license="http://www.w3.org/1999/xhtml/vocab#license",this.target.graph.terms.meta="http://www.w3.org/1999/xhtml/vocab#meta",this.target.graph.terms.next="http://www.w3.org/1999/xhtml/vocab#next",this.target.graph.terms.prev="http://www.w3.org/1999/xhtml/vocab#prev",this.target.graph.terms.previous="http://www.w3.org/1999/xhtml/vocab#previous",this.target.graph.terms.section="http://www.w3.org/1999/xhtml/vocab#section",this.target.graph.terms.stylesheet="http://www.w3.org/1999/xhtml/vocab#stylesheet",this.target.graph.terms.subsection="http://www.w3.org/1999/xhtml/vocab#subsection",this.target.graph.terms.start="http://www.w3.org/1999/xhtml/vocab#start",this.target.graph.terms.top="http://www.w3.org/1999/xhtml/vocab#top",this.target.graph.terms.up="http://www.w3.org/1999/xhtml/vocab#up",this.target.graph.terms.p3pv1="http://www.w3.org/1999/xhtml/vocab#p3pv1",this.target.graph.terms.related="http://www.w3.org/1999/xhtml/vocab#related",this.target.graph.terms.role="http://www.w3.org/1999/xhtml/vocab#role",this.target.graph.terms.transformation="http://www.w3.org/1999/xhtml/vocab#transformation"}},{key:"setXMLContext",value:function(){this.setInitialContext(),this.inXHTMLMode=!1,this.inHTMLMode=!1}},{key:"tokenize",value:function(e){return this.trim(e).split(/\s+/)}},{key:"toRDFNodeObject",value:function(t){if(void 0!==t){if("string"==typeof t)return"_:"===t.substring(0,2)?(void 0===this.blankNodes[t.substring(2)]&&(this.blankNodes[t.substring(2)]=new s(t.substring(2))),this.blankNodes[t.substring(2)]):l.namedNode(t);switch(t.type){case e.objectURI:return"_:"===t.value.substring(0,2)?(void 0===this.blankNodes[t.value.substring(2)]&&(this.blankNodes[t.value.substring(2)]=new s(t.value.substring(2))),this.blankNodes[t.value.substring(2)]):l.namedNode(t.value);case e.PlainLiteralURI:return new o(t.value,t.language||"");case e.XMLLiteralURI:case e.HTMLLiteralURI:var r="";return Object.keys(t.value).forEach(function(e){r+=p.domToString(t.value[e],this.htmlOptions)}),new o(r,"",new u(t.type));default:return new o(t.value,"",new u(t.type))}}}},{key:"trim",value:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}],[{key:"parseRDFaDOM",value:function(t,r,n){new e(r,{base:n}).process(t)}}]),e}();f.XMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral",f.HTMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML",f.PlainLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",f.objectURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#object",f.typeURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",f.nameChar="[-A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�က0-F.0-9·̀-ͯ‿-⁀]",f.nameStartChar="[A-Za-zÀ-ÖØ-öø-ÿĀ-ıĴ-ľŁ-ňŊ-žƀ-ǃǍ-ǰǴ-ǵǺ-ȗɐ-ʨʻ-ˁΆΈ-ΊΌΎ-ΡΣ-ώϐ-ϖϚϜϞϠϢ-ϳЁ-ЌЎ-яё-ќў-ҁҐ-ӄӇ-ӈӋ-ӌӐ-ӫӮ-ӵӸ-ӹԱ-Ֆՙա-ֆא-תװ-ײء-غف-يٱ-ڷں-ھۀ-ێې-ۓەۥ-ۦअ-हऽक़-ॡঅ-ঌএ-ঐও-নপ-রলশ-হড়-ঢ়য়-ৡৰ-ৱਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઋઍએ-ઑઓ-નપ-રલ-ળવ-હઽૠଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଶ-ହଽଡ଼-ଢ଼ୟ-ୡஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-வஷ-ஹఅ-ఌఎ-ఐఒ-నప-ళవ-హౠ-ౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹೞೠ-ೡഅ-ഌഎ-ഐഒ-നപ-ഹൠ-ൡก-ฮะา-ำเ-ๅກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ຮະາ-ຳຽເ-ໄཀ-ཇཉ-ཀྵႠ-Ⴥა-ჶᄀᄂ-ᄃᄅ-ᄇᄉᄋ-ᄌᄎ-ᄒᄼᄾᅀᅌᅎᅐᅔ-ᅕᅙᅟ-ᅡᅣᅥᅧᅩᅭ-ᅮᅲ-ᅳᅵᆞᆨᆫᆮ-ᆯᆷ-ᆸᆺᆼ-ᇂᇫᇰᇹḀ-ẛẠ-ỹἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼΩK-Å℮ↀ-ↂぁ-ゔァ-ヺㄅ-ㄬ가-힣一-龥〇〡-〩_]",f.NCNAME=new RegExp("^"+f.nameStartChar+f.nameChar+"*$"),f.dateTimeTypes=[{pattern:/-?P(?:[0-9]+Y)?(?:[0-9]+M)?(?:[0-9]+D)?(?:T(?:[0-9]+H)?(?:[0-9]+M)?(?:[0-9]+(?:\.[0-9]+)?S)?)?/,type:"http://www.w3.org/2001/XMLSchema#duration"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9]T(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#dateTime"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9](?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#date"},{pattern:/(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#time"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]/,type:"http://www.w3.org/2001/XMLSchema#gYearMonth"},{pattern:/-?[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9]/,type:"http://www.w3.org/2001/XMLSchema#gYear"}],e.exports=f},function(e,t,r){"use strict";var n,a,i,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */
!function(r,o){"object"===s(t)&&t&&"string"!=typeof t.nodeName?o(t):(a=[t],n=o,void 0!==(i="function"==typeof n?n.apply(t,a):n)&&(e.exports=i))}(0,function(e){function t(e){return"function"==typeof e}function r(e){return v(e)?"array":void 0===e?"undefined":s(e)}function n(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function a(e,t){return null!=e&&"object"===(void 0===e?"undefined":s(e))&&t in e}function i(e,t){return w.call(e,t)}function o(e){return!i(m,e)}function l(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return b[e]})}function u(t,r){function a(e){if("string"==typeof e&&(e=e.split(R,2)),!v(e)||2!==e.length)throw new Error("Invalid tags: "+e);i=new RegExp(n(e[0])+"\\s*"),s=new RegExp("\\s*"+n(e[1])),l=new RegExp("\\s*"+n("}"+e[1]))}if(!t)return[];var i,s,l,u=[],f=[],d=[],g=!1,w=!1;a(r||e.tags);for(var m,b,I,T,M,O,E=new c(t);!E.eos();){if(m=E.pos,I=E.scanUntil(i))for(var k=0,C=I.length;k<C;++k)T=I.charAt(k),o(T)?d.push(f.length):w=!0,f.push(["text",T,m,m+1]),m+=1,"\n"===T&&function(){if(g&&!w)for(;d.length;)delete f[d.pop()];else d=[];g=!1,w=!1}();if(!E.scan(i))break;if(g=!0,b=E.scan(U)||"name",E.scan(y),"="===b?(I=E.scanUntil(x),E.scan(x),E.scanUntil(s)):"{"===b?(I=E.scanUntil(l),E.scan(N),E.scanUntil(s),b="&"):I=E.scanUntil(s),!E.scan(s))throw new Error("Unclosed tag at "+E.pos);if(M=[b,I,m,E.pos],f.push(M),"#"===b||"^"===b)u.push(M);else if("/"===b){if(!(O=u.pop()))throw new Error('Unopened section "'+I+'" at '+m);if(O[1]!==I)throw new Error('Unclosed section "'+O[1]+'" at '+m)}else"name"===b||"{"===b||"&"===b?w=!0:"="===b&&a(I)}if(O=u.pop())throw new Error('Unclosed section "'+O[1]+'" at '+E.pos);return p(h(f))}function h(e){for(var t,r,n=[],a=0,i=e.length;a<i;++a)(t=e[a])&&("text"===t[0]&&r&&"text"===r[0]?(r[1]+=t[1],r[3]=t[3]):(n.push(t),r=t));return n}function p(e){for(var t,r,n=[],a=n,i=[],s=0,o=e.length;s<o;++s)switch(t=e[s],t[0]){case"#":case"^":a.push(t),i.push(t),a=t[4]=[];break;case"/":r=i.pop(),r[5]=t[2],a=i.length>0?i[i.length-1][4]:n;break;default:a.push(t)}return n}function c(e){this.string=e,this.tail=e,this.pos=0}function f(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function d(){this.cache={}}var g=Object.prototype.toString,v=Array.isArray||function(e){return"[object Array]"===g.call(e)},w=RegExp.prototype.test,m=/\S/,b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},y=/\s*/,R=/\s+/,x=/\s*=/,N=/\s*\}/,U=/#|\^|\/|>|\{|&|=|!/;c.prototype.eos=function(){return""===this.tail},c.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var r=t[0];return this.tail=this.tail.substring(r.length),this.pos+=r.length,r},c.prototype.scanUntil=function(e){var t,r=this.tail.search(e);switch(r){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,r),this.tail=this.tail.substring(r)}return this.pos+=t.length,t},f.prototype.push=function(e){return new f(e,this)},f.prototype.lookup=function(e){var r,n=this.cache;if(n.hasOwnProperty(e))r=n[e];else{for(var i,s,o=this,l=!1;o;){if(e.indexOf(".")>0)for(r=o.view,i=e.split("."),s=0;null!=r&&s<i.length;)s===i.length-1&&(l=a(r,i[s])),r=r[i[s++]];else r=o.view[e],l=a(o.view,e);if(l)break;o=o.parent}n[e]=r}return t(r)&&(r=r.call(this.view)),r},d.prototype.clearCache=function(){this.cache={}},d.prototype.parse=function(e,t){var r=this.cache,n=r[e];return null==n&&(n=r[e]=u(e,t)),n},d.prototype.render=function(e,t,r){var n=this.parse(e),a=t instanceof f?t:new f(t);return this.renderTokens(n,a,r,e)},d.prototype.renderTokens=function(e,t,r,n){for(var a,i,s,o="",l=0,u=e.length;l<u;++l)s=void 0,a=e[l],i=a[0],"#"===i?s=this.renderSection(a,t,r,n):"^"===i?s=this.renderInverted(a,t,r,n):">"===i?s=this.renderPartial(a,t,r,n):"&"===i?s=this.unescapedValue(a,t):"name"===i?s=this.escapedValue(a,t):"text"===i&&(s=this.rawValue(a)),void 0!==s&&(o+=s);return o},d.prototype.renderSection=function(e,r,n,a){function i(e){return o.render(e,r,n)}var o=this,l="",u=r.lookup(e[1]);if(u){if(v(u))for(var h=0,p=u.length;h<p;++h)l+=this.renderTokens(e[4],r.push(u[h]),n,a);else if("object"===(void 0===u?"undefined":s(u))||"string"==typeof u||"number"==typeof u)l+=this.renderTokens(e[4],r.push(u),n,a);else if(t(u)){if("string"!=typeof a)throw new Error("Cannot use higher-order sections without the original template");u=u.call(r.view,a.slice(e[3],e[5]),i),null!=u&&(l+=u)}else l+=this.renderTokens(e[4],r,n,a);return l}},d.prototype.renderInverted=function(e,t,r,n){var a=t.lookup(e[1]);if(!a||v(a)&&0===a.length)return this.renderTokens(e[4],t,r,n)},d.prototype.renderPartial=function(e,r,n){if(n){var a=t(n)?n(e[1]):n[e[1]];return null!=a?this.renderTokens(this.parse(a),r,n,a):void 0}},d.prototype.unescapedValue=function(e,t){var r=t.lookup(e[1]);if(null!=r)return r},d.prototype.escapedValue=function(t,r){var n=r.lookup(t[1]);if(null!=n)return e.escape(n)},d.prototype.rawValue=function(e){return e[1]},e.name="mustache.js",e.version="2.3.0",e.tags=["{{","}}"];var I=new d;return e.clearCache=function(){return I.clearCache()},e.parse=function(e,t){return I.parse(e,t)},e.render=function(e,t,n){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+r(e)+'" was given as the first argument for mustache#render(template, view, partials)');return I.render(e,t,n)},e.to_html=function(r,n,a,i){var s=e.render(r,n,a);if(!t(i))return s;i(s)},e.escape=l,e.Scanner=c,e.Context=f,e.Writer=d,e})},function(e,t,r){"use strict";var n=r(0);e.exports={schema:function(e){return n.sym("http://schema.org/"+e)},rdf:function(e){return n.sym("http://www.w3.org/1999/02/22-rdf-syntax-ns#"+e)},rdfs:function(e){return n.sym("http://www.w3.org/2000/01/rdf-schema#"+e)},foaf:function(e){return n.sym("http://xmlns.com/foaf/0.1/"+e)},rdf2h:function(e){return n.sym("http://rdf2h.github.io/2015/rdf2h#"+e)}}}]);
//# sourceMappingURL=rdf2h.js.map